import{Y as e,Z as t,$ as a,a0 as s,a1 as r,d as l,a2 as o,a3 as n,a4 as u,a5 as i,a6 as d,a7 as p,a8 as c,a9 as f,aa as m,ab as g,c as v,ac as h,ad as y,a as w,i as _,k as $,p as b,q as R,A as C,B as P,E as x,y as j,U as I,C as k,g as z,D as N,u as S,e as U,ae as A,af as O}from"./index-HMHCBO22.js";import{_ as q}from"./AuthFormCard.vue_vue_type_script_setup_true_lang-C8srH85Z.js";import{_ as F,a as V}from"./PhoneVerifyInput.vue_vue_type_script_setup_true_lang-Dt4Uw5wo.js";import{o as E,k as G,p as L,q as M,a as W,_ as B,h as D,i as H,j as Y,g as Z}from"./Layout.vue_vue_type_script_setup_true_lang-DggjovG3.js";import"./bg-BidHQfEv.js";const J=s(24,null).map(((e,t)=>{const a=t+1,s=`calc(100% / 24 * ${a})`;return[r(`${a}-span`,{width:s}),r(`${a}-offset`,{marginLeft:s}),r(`${a}-push`,{left:s}),r(`${a}-pull`,{right:s})]})),K=e([t("row",{width:"100%",display:"flex",flexWrap:"wrap"}),t("col",{verticalAlign:"top",boxSizing:"border-box",display:"inline-block",position:"relative",zIndex:"auto"},[a("box",{position:"relative",zIndex:"auto",width:"100%",height:"100%"}),J])]),Q=m("n-row"),T={gutter:{type:[Array,Number,String],default:0},alignItems:String,justifyContent:String},X=f(T),ee=l({name:"Row",props:T,setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:a}=n(e);u("-legacy-grid",K,t);const s=i("Row",a,t),r=d((()=>{const{gutter:t}=e;return Array.isArray(t)&&t[1]||0})),l=d((()=>{const{gutter:t}=e;return Array.isArray(t)?t[0]:Number(t)}));return p(Q,{mergedClsPrefixRef:t,gutterRef:c(e,"gutter"),verticalGutterRef:r,horizontalGutterRef:l}),{mergedClsPrefix:t,rtlEnabled:s,styleMargin:d((()=>`-${E(r.value,{c:.5})} -${E(l.value,{c:.5})}`)),styleWidth:d((()=>`calc(100% + ${E(l.value)})`))}},render(){return o("div",{class:[`${this.mergedClsPrefix}-row`,this.rtlEnabled&&`${this.mergedClsPrefix}-row--rtl`],style:{margin:this.styleMargin,width:this.styleWidth,alignItems:this.alignItems,justifyContent:this.justifyContent}},this.$slots)}}),te={span:{type:[String,Number],default:1},push:{type:[String,Number],default:0},pull:{type:[String,Number],default:0},offset:{type:[String,Number],default:0}},ae=f(te),se=l({name:"Col",props:te,setup(e){const t=h(Q,null);return t||g("col","`n-col` must be placed inside `n-row`."),{mergedClsPrefix:t.mergedClsPrefixRef,gutter:t.gutterRef,stylePadding:v((()=>`${E(t.verticalGutterRef.value,{c:.5})} ${E(t.horizontalGutterRef.value,{c:.5})}`)),mergedPush:v((()=>Number(e.push)-Number(e.pull)))}},render(){const{$slots:e,span:t,mergedPush:a,offset:s,stylePadding:r,gutter:l,mergedClsPrefix:n}=this;return o("div",{class:[`${n}-col`,{[`${n}-col--${t}-span`]:!0,[`${n}-col--${a}-push`]:a>0,[`${n}-col--${-a}-pull`]:a<0,[`${n}-col--${s}-offset`]:s}],style:{padding:r}},l?o("div",null,e):e)}}),re=Object.assign(Object.assign({},te),M),le=f(re),oe=l({name:"FormItemCol",props:re,setup(){const e=w(null);return{formItemInstRef:e,validate:(...t)=>{const{value:a}=e;if(a)return a.validate(...t)},restoreValidation:()=>{const{value:t}=e;t&&t.restoreValidation()}}},render(){return o(se,y(this.$props,ae),{default:()=>{const e=y(this.$props,L);return o(G,Object.assign({ref:"formItemInstRef"},e),this.$slots)}})}}),ne=l({name:"FormItemRow",props:Object.assign(Object.assign({},T),re),setup(){const e=w(null);return{formItemColInstRef:e,validate:(...t)=>{const{value:a}=e;if(a)return a.validate(...t)},restoreValidation:()=>{const{value:t}=e;t&&t.restoreValidation()}}},render(){return o(ee,y(this.$props,X),{default:()=>{const e=y(this.$props,le);return o(oe,Object.assign(Object.assign({ref:"formItemColInstRef"},e),{span:24}),this.$slots)}})}}),ue={class:"flex justify-between"},ie=l({__name:"ForgetPassword",setup(e){_();const{t:t}=$(),a=S(),s=W(),r=w(null),l=w({email:"",phone:"",password:"",password_confirmation:"",code:"",country_code:"cn"}),o=w("email"),n=async()=>{var e,r;let n;if(n="email"===o.value?await A({body:l.value}):await O({body:l.value}),"error"===(null==(e=n.data)?void 0:e.status))return s.error(null==(r=n.data)?void 0:r.message);a.push("/login").then((()=>s.success(t("Password reset successfully"))))};return(e,t)=>(U(),b(B,{"header-title":e.$t("Forgot Password")},{default:R((()=>[C(q,{title:e.$t("Recover Password")},{default:R((()=>[C(P(D),{value:o.value,"onUpdate:value":t[0]||(t[0]=e=>o.value=e),type:"segment",class:"mb-4"},{default:R((()=>[C(P(H),{name:"email"},{default:R((()=>[x(j(e.$t("Recover via Email")),1)])),_:1}),C(P(H),{name:"phone"},{default:R((()=>[x(j(e.$t("Recover via Mobile Number")),1)])),_:1})])),_:1},8,["value"]),C(P(Y),{ref_key:"formRef",ref:r,model:l.value,"show-require-mark":!0,onSubmit:I(n,["prevent"])},{default:R((()=>["email"===o.value?(U(),b(F,{key:0,event:"forget_password",size:"large",email:l.value.email,"onUpdate:email":t[1]||(t[1]=e=>l.value.email=e),code:l.value.code,"onUpdate:code":t[2]||(t[2]=e=>l.value.code=e)},null,8,["email","code"])):k("",!0),"phone"===o.value?(U(),b(V,{key:1,event:"forget_password",size:"large",phone:l.value.phone,"onUpdate:phone":t[3]||(t[3]=e=>l.value.phone=e),"country-code":l.value.country_code,"onUpdate:countryCode":t[4]||(t[4]=e=>l.value.country_code=e),code:l.value.code,"onUpdate:code":t[5]||(t[5]=e=>l.value.code=e)},null,8,["phone","country-code","code"])):k("",!0),C(P(ne),{label:e.$t("New Password")},{default:R((()=>[C(P(Z),{value:l.value.password,"onUpdate:value":t[6]||(t[6]=e=>l.value.password=e),placeholder:e.$t("Please enter a new password"),type:"password","show-password-on":"mousedown",size:"large","input-props":{required:!0}},null,8,["value","placeholder"])])),_:1},8,["label"]),C(P(ne),{label:e.$t("Confirm New Password"),"show-feedback":!1},{default:R((()=>[C(P(Z),{value:l.value.password_confirmation,"onUpdate:value":t[7]||(t[7]=e=>l.value.password_confirmation=e),placeholder:e.$t("Please confirm your new password"),type:"password","show-password-on":"mousedown",size:"large","input-props":{required:!0}},null,8,["value","placeholder"])])),_:1},8,["label"]),C(P(ne),null,{default:R((()=>[C(P(N),{type:"primary","attr-type":"submit",size:"large",strong:"",block:""},{default:R((()=>[x(j(e.$t("Confirm Password Reset")),1)])),_:1})])),_:1}),z("div",ue,[C(P(N),{text:"",type:"info",onClick:t[8]||(t[8]=e=>P(a).push("/"))},{default:R((()=>[x(j(e.$t("Back to Home")),1)])),_:1}),C(P(N),{text:"",type:"info",onClick:t[9]||(t[9]=e=>P(a).push("/login"))},{default:R((()=>[x(j(e.$t("Return to Login")),1)])),_:1})])])),_:1},8,["model"])])),_:1},8,["title"])])),_:1},8,["header-title"]))}});export{ie as default};
