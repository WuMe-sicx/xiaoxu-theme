import{_ as e}from"./Content.vue_vue_type_script_setup_true_lang-BU2yl4QK.js";import{_ as t,l as a,G as n}from"./Layout.vue_vue_type_script_setup_true_lang-DggjovG3.js";import{Z as l,$ as i,Y as o,d as r,a3 as s,aJ as d,bN as u,a5 as c,c as p,aL as h,a2 as g,F as v,h as _,j as f,aM as m,i as x,k as $,a as w,M as b,p as y,q as S,A as C,B as E,R as j,E as z,y as O,e as U,bO as L}from"./index-HMHCBO22.js";const R=l("thing","\n display: flex;\n transition: color .3s var(--n-bezier);\n font-size: var(--n-font-size);\n color: var(--n-text-color);\n",[l("thing-avatar","\n margin-right: 12px;\n margin-top: 2px;\n "),l("thing-avatar-header-wrapper","\n display: flex;\n flex-wrap: nowrap;\n ",[l("thing-header-wrapper","\n flex: 1;\n ")]),l("thing-main","\n flex-grow: 1;\n ",[l("thing-header","\n display: flex;\n margin-bottom: 4px;\n justify-content: space-between;\n align-items: center;\n ",[i("title","\n font-size: 16px;\n font-weight: var(--n-title-font-weight);\n transition: color .3s var(--n-bezier);\n color: var(--n-title-text-color);\n ")]),i("description",[o("&:not(:last-child)","\n margin-bottom: 4px;\n ")]),i("content",[o("&:not(:first-child)","\n margin-top: 12px;\n ")]),i("footer",[o("&:not(:first-child)","\n margin-top: 12px;\n ")]),i("action",[o("&:not(:first-child)","\n margin-top: 12px;\n ")])])]),I=r({name:"Thing",props:Object.assign(Object.assign({},d.props),{title:String,titleExtra:String,description:String,descriptionClass:String,descriptionStyle:[String,Object],content:String,contentClass:String,contentStyle:[String,Object],contentIndented:Boolean}),slots:Object,setup(e,{slots:t}){const{mergedClsPrefixRef:a,inlineThemeDisabled:n,mergedRtlRef:l}=s(e),i=d("Thing","-thing",R,u,e,a),o=c("Thing",l,a),r=p((()=>{const{self:{titleTextColor:e,textColor:t,titleFontWeight:a,fontSize:n},common:{cubicBezierEaseInOut:l}}=i.value;return{"--n-bezier":l,"--n-font-size":n,"--n-text-color":t,"--n-title-font-weight":a,"--n-title-text-color":e}})),_=n?h("thing",void 0,r,e):void 0;return()=>{var l;const{value:i}=a,s=!!o&&o.value;return null===(l=null==_?void 0:_.onRender)||void 0===l||l.call(_),g("div",{class:[`${i}-thing`,null==_?void 0:_.themeClass,s&&`${i}-thing--rtl`],style:n?void 0:r.value},t.avatar&&e.contentIndented?g("div",{class:`${i}-thing-avatar`},t.avatar()):null,g("div",{class:`${i}-thing-main`},!e.contentIndented&&(t.header||e.title||t["header-extra"]||e.titleExtra||t.avatar)?g("div",{class:`${i}-thing-avatar-header-wrapper`},t.avatar?g("div",{class:`${i}-thing-avatar`},t.avatar()):null,t.header||e.title||t["header-extra"]||e.titleExtra?g("div",{class:`${i}-thing-header-wrapper`},g("div",{class:`${i}-thing-header`},t.header||e.title?g("div",{class:`${i}-thing-header__title`},t.header?t.header():e.title):null,t["header-extra"]||e.titleExtra?g("div",{class:`${i}-thing-header__extra`},t["header-extra"]?t["header-extra"]():e.titleExtra):null),t.description||e.description?g("div",{class:[`${i}-thing-main__description`,e.descriptionClass],style:e.descriptionStyle},t.description?t.description():e.description):null):null):g(v,null,t.header||e.title||t["header-extra"]||e.titleExtra?g("div",{class:`${i}-thing-header`},t.header||e.title?g("div",{class:`${i}-thing-header__title`},t.header?t.header():e.title):null,t["header-extra"]||e.titleExtra?g("div",{class:`${i}-thing-header__extra`},t["header-extra"]?t["header-extra"]():e.titleExtra):null):null,t.description||e.description?g("div",{class:[`${i}-thing-main__description`,e.descriptionClass],style:e.descriptionStyle},t.description?t.description():e.description):null),t.default||e.content?g("div",{class:[`${i}-thing-main__content`,e.contentClass],style:e.contentStyle},t.default?t.default():e.content):null,t.footer?g("div",{class:`${i}-thing-main__footer`},t.footer()):null,t.action?g("div",{class:`${i}-thing-main__action`},t.action()):null))}}}),T=r({__name:"IndexView",setup(l){var i;const o=_(),r=f(),s=m(),d=x(),{t:u}=$(),c=w({language:"zh-CN",show_original_photos:!1,encode_copied_url:!1,auto_upload_after_select:!1,upload_button_action:"select_files",default_storage_id:null,...(null==(i=r.profile)?void 0:i.options)||{}}),h=s.getLocales(),g=p((()=>{var e;const t=(null==(e=d.group)?void 0:e.storages)||[];return[{label:u("None (follow global settings)"),value:null},...t.map((e=>({label:e.name,value:e.id})))]})),v=p((()=>{var e;if(!c.value.default_storage_id)return!0;return((null==(e=d.group)?void 0:e.storages)||[]).some((e=>e.id===c.value.default_storage_id))}));return b(c,(e=>{L({body:e}).then((()=>{r.setOptions(c.value)}))}),{deep:!0}),b((()=>c.value.language),(e=>{s.setLocale(e),o.refresh()})),b((()=>{var e;return null==(e=d.group)?void 0:e.storages}),(()=>{v.value||(c.value.default_storage_id=null)}),{deep:!0}),(l,i)=>(U(),y(t,{"header-title":l.$t("Settings"),"toggle-header":!1,"show-footer":!1},{default:S((()=>[C(e,{class:"mx-auto p-4 md:p-10 space-y-10"},{default:S((()=>[C(E(j),{"content-class":"space-y-6"},{default:S((()=>[C(E(I),null,{header:S((()=>[z(O(l.$t("System Language")),1)])),description:S((()=>[z(O(l.$t("Choose your language preference")),1)])),"header-extra":S((()=>[C(E(a),{class:"min-w-40 md:min-w-60",value:c.value.language,"onUpdate:value":i[0]||(i[0]=e=>c.value.language=e),options:E(h)},null,8,["value","options"])])),_:1}),C(E(I),null,{header:S((()=>[z(O(l.$t("Show original photos")),1)])),description:S((()=>[z(O(l.$t("Priority is given to the original file rather than thumbnails when viewing images. This may cause the photos to appear slower.")),1)])),"header-extra":S((()=>[C(E(n),{value:c.value.show_original_photos,"onUpdate:value":i[1]||(i[1]=e=>c.value.show_original_photos=e)},null,8,["value"])])),_:1}),C(E(I),null,{header:S((()=>[z(O(l.$t("Encode URL when copying")),1)])),description:S((()=>[z(O(l.$t("When copying an image URL, automatically encode special characters to ensure compatibility across different platforms.")),1)])),"header-extra":S((()=>[C(E(n),{value:c.value.encode_copied_url,"onUpdate:value":i[2]||(i[2]=e=>c.value.encode_copied_url=e)},null,8,["value"])])),_:1}),C(E(I),null,{header:S((()=>[z(O(l.$t("Auto upload after selecting images")),1)])),description:S((()=>[z(O(l.$t("Automatically start uploading all images immediately after selection.")),1)])),"header-extra":S((()=>[C(E(n),{value:c.value.auto_upload_after_select,"onUpdate:value":i[3]||(i[3]=e=>c.value.auto_upload_after_select=e)},null,8,["value"])])),_:1}),C(E(I),null,{header:S((()=>[z(O(l.$t("Upload button behavior")),1)])),description:S((()=>[z(O(l.$t("Choose what happens when you click the upload button in the header. Select files to open file selector, or open queue to show upload queue.")),1)])),"header-extra":S((()=>[C(E(a),{class:"min-w-40 md:min-w-60",value:c.value.upload_button_action,"onUpdate:value":i[4]||(i[4]=e=>c.value.upload_button_action=e),options:[{label:l.$t("Select files"),value:"select_files"},{label:l.$t("Open upload queue"),value:"open_queue"}]},null,8,["value","options"])])),_:1}),C(E(I),null,{header:S((()=>[z(O(l.$t("Default Storage")),1)])),description:S((()=>[z(O(l.$t("Choose the default storage location for uploading images. If not set, it will follow the global settings.")),1)])),"header-extra":S((()=>[C(E(a),{class:"min-w-40 md:min-w-60",value:c.value.default_storage_id,"onUpdate:value":i[5]||(i[5]=e=>c.value.default_storage_id=e),options:g.value,filterable:"",clearable:""},null,8,["value","options"])])),_:1})])),_:1})])),_:1})])),_:1},8,["header-title"]))}});export{T as default};
